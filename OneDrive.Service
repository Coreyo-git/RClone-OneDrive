[Unit]
Description=OneDrive (rclone)
AssertPathIsDirectory=home/coreyo/mnt/OneDrive
After=Networkd.service

[Service]
Type=simple
ExecStart=/usr/bin/rclone mount \
        --config=/home/coreyo/.config/rclone/rclone.conf \
        --allow-other \
        --vfs-cache-mode full \
        --vfs-cache-max-size 25 \
        --drive-use-trash \
        --log-level Error \
        --log-file /tmp/rclone-onedrive.log \
        --cache-info-age=360m onedrive:/ /home/coreyo/mnt/OneDrive
ExecStop=/bin/fusermount -u home/coreyo/mnt/OneDrive
Restart=always
RestartSec=10

[Install]
WantedBy=default.target


